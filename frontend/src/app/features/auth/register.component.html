<div class="nubian-auth">
  <!-- Animated Background Pattern -->
  <div class="nubian-auth__pattern"></div>

  <div class="nubian-auth__card">
    <!-- Header with Logo -->
    <div class="nubian-auth__header">
      <div class="nubian-auth__logo">
        <i class="fa-solid fa-user-plus" aria-hidden="true"></i>
      </div>
      <h1>{{ 'app.title' | translate }} {{ 'app.platform' | translate }}</h1>
      <p>{{ 'auth.createAccount' | translate }}</p>
    </div>

    <!-- Register Form -->
    <div class="nubian-auth__content">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="nubian-auth__form">
        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>{{ 'auth.firstName' | translate }}</mat-label>
            <input matInput formControlName="firstName" autocomplete="given-name">
            <i class="fa-solid fa-user" matPrefix aria-hidden="true"></i>
            <mat-error *ngIf="registerForm.get('firstName')?.hasError('required')">
              {{ 'validation.firstNameRequired' | translate }}
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>{{ 'auth.lastName' | translate }}</mat-label>
            <input matInput formControlName="lastName" autocomplete="family-name">
            <i class="fa-solid fa-user" matPrefix aria-hidden="true"></i>
            <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">
              {{ 'validation.lastNameRequired' | translate }}
            </mat-error>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline">
          <mat-label>{{ 'auth.email' | translate }}</mat-label>
          <input matInput type="email" formControlName="email" autocomplete="email">
          <i class="fa-solid fa-envelope" matPrefix aria-hidden="true"></i>
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
            {{ 'validation.emailRequired' | translate }}
          </mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
            {{ 'validation.invalidEmail' | translate }}
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>{{ 'auth.password' | translate }}</mat-label>
          <input matInput type="password" formControlName="password" autocomplete="new-password">
          <i class="fa-solid fa-lock" matPrefix aria-hidden="true"></i>
          <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
            {{ 'validation.passwordRequired' | translate }}
          </mat-error>
          <mat-error *ngIf="registerForm.get('password')?.hasError('minlength')">
            {{ 'validation.passwordMinLength' | translate }}
          </mat-error>
        </mat-form-field>

        <button
          mat-raised-button
          type="submit"
          class="nubian-auth__submit"
          [disabled]="registerForm.invalid || loading">
          @if (loading) {
            <mat-spinner diameter="20"></mat-spinner>
          } @else {
            <i class="fa-solid fa-user-plus" aria-hidden="true"></i>
            <span>{{ 'auth.createAccountButton' | translate }}</span>
          }
        </button>
      </form>

      <div class="nubian-auth__footer">
        <p>{{ 'auth.alreadyHaveAccount' | translate }} <a routerLink="/login">{{ 'auth.loginHere' | translate }}</a></p>
      </div>
    </div>
  </div>
</div>
