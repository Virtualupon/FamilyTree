PERSON MEDIA FEATURE - MANY-TO-MANY ARCHITECTURE

APPROACH: Many-to-many relationship using a junction/link table.

BENEFITS:
- Media file is stored ONCE (no duplicates)
- Can be linked to 1 or many persons
- Easy to add/remove person links without affecting the file
- When displaying, show all linked persons as clickable links

DATABASE STRUCTURE:

Media table (stores the actual file once):
- MediaId (PK)
- MediaType
- FileName
- MimeType
- StoragePath
- SizeBytes
- CreatedAt
- UpdatedAt

PersonMedia table (junction/link table):
- Id (PK)
- PersonId (FK to Person)
- MediaId (FK to Media)
- LinkedAt (DateTime)
- IsPrimary (bool, optional - marks the main person for this media)

UPLOAD FLOW:
1. User uploads file
2. User selects persons (multi-select dropdown/search)
3. Backend creates 1 Media record + N PersonMedia links

DISPLAY FLOW:
1. Query person's media via junction table
2. Each media shows linked persons as clickable names/links
3. Clicking a person name navigates to their profile

KEY ENDPOINTS:

Upload and fetch:
- POST /api/media (upload with PersonIds array)
- GET /api/media/{mediaId} (single item with linked persons)
- DELETE /api/media/{mediaId} (removes file and all links)

Person-specific:
- GET /api/persons/{personId}/media (list person's linked media)
- POST /api/persons/{personId}/media/{mediaId}/link (add link)
- DELETE /api/persons/{personId}/media/{mediaId}/link (remove link)

ADVANTAGES OF THIS DESIGN:
- Efficient: File stored once even if linked to 100 persons
- Flexible: Manage links independently from file
- Scalable: No duplicate storage costs
- Clean: Easy to query "who is in this media" or "what media has this person"